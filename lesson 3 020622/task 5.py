# –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å—Ç—Ä–æ–∫—É —á–∏—Å–µ–ª, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã—Ö –ø—Ä–æ–±–µ–ª–æ–º.
# –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ Enter –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–æ–¥–∏—Ç—å—Å—è —Å—É–º–º–∞ —á–∏—Å–µ–ª. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç
# –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤–≤–æ–¥ —á–∏—Å–µ–ª, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã—Ö –ø—Ä–æ–±–µ–ª–æ–º –∏ —Å–Ω–æ–≤–∞ –Ω–∞–∂–∞—Ç—å Enter. –°—É–º–º–∞
# –≤–Ω–æ–≤—å –≤–≤–µ–¥—ë–Ω–Ω—ã—Ö —á–∏—Å–µ–ª –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∫ —É–∂–µ –ø–æ–¥—Å—á–∏—Ç–∞–Ω–Ω–æ–π —Å—É–º–º–µ. –ù–æ –µ—Å–ª–∏
# –≤–º–µ—Å—Ç–æ —á–∏—Å–ª–∞ –≤–≤–æ–¥–∏—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è.
# –ï—Å–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª –≤–≤–µ–¥—ë–Ω –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∏—Å–µ–ª, —Ç–æ –≤–Ω–∞—á–∞–ª–µ –Ω—É–∂–Ω–æ
# –¥–æ–±–∞–≤–∏—Ç—å —Å—É–º–º—É —ç—Ç–∏—Ö —á–∏—Å–µ–ª –∫ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π —Ä–∞–Ω–µ–µ —Å—É–º–º–µ –∏ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å
# –ø—Ä–æ–≥—Ä–∞–º–º—É.


def get_numbs_before_stop(tokens):
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã –∏–∑ –≤—Ö–æ–¥—è—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤, —Å—Ç–æ—è—â–∏–µ –¥–æ —Å—Ç–æ–ø-—Å–ª–æ–≤–∞

    :param list tokens: —Ç–æ–∫–µ–Ω—ã
    :return list:
    """
    res = tokens.copy()
    for i in range(len(tokens)):
        if tokens[i] in stop_words:
            res = tokens[:i]
    return res


stop_words = ["q", "–π"]
stop = False
res_sum = 0

print("–í–≤–æ–¥–∏—Ç–µ —á–∏—Å–ª–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª–æ–º, –∞ —è –±—É–¥—É –≤—Å–µ –∏—Ö —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å, "
      "–ø–æ–∫–∞ –Ω–µ –Ω–∞–ø–∏—à–∏—Ç–µ 'Q'.")

while not stop:
    inp_words = input("–í–≤–µ–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —á–∏—Å–µ–ª, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã—Ö –ø—Ä–æ–±–µ–ª–æ–º: ").replace(
        ",", ".").split()
    try:
        inp_words_before_stop = get_numbs_before_stop(inp_words)
        stop = inp_words != inp_words_before_stop
        numbs = list(map(float, inp_words_before_stop))
        res_sum += sum(numbs)
        round_sum = round(res_sum, 3)
        if round_sum == res_sum:
            print(f"{'üèÅ' if stop else ''} –°—É–º–º–∞ = {res_sum}")
        else:
            print(f"{'üèÅ' if stop else ''} –°—É–º–º–∞ (–æ–∫—Ä—É–≥–ª–∏–ª) = {round_sum}")

    except Exception:
        print("–î–ª—è –≤—ã—Ö–æ–¥–∞ –Ω—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ 'Q'")
